plugins {
    id "com.github.johnrengelman.shadow"
    id("io.micronaut.application")
}

group "io.micronaut.example"
version project.projectVersion

repositories {
    mavenCentral()
}

dependencies {
    implementation(project(":graphql"))

    annotationProcessor("io.micronaut:micronaut-http-validation")
    implementation("io.micronaut:micronaut-http-client")
    implementation("io.micronaut:micronaut-jackson-databind")
    implementation("io.micronaut:micronaut-validation")
    implementation("io.micronaut:micronaut-runtime")

    runtimeOnly("ch.qos.logback:logback-classic")
    compileOnly("org.graalvm.nativeimage:svm")
}

sourceCompatibility = "1.8"
targetCompatibility = "1.8"

mainClassName = "example.Application"

micronaut {
    runtime("netty")
}

micronautBuild {
    resolutionStrategy {
        force "com.graphql-java:graphql-java-extended-scalars:${libs.managed.graphql.java.extended.scalars}"
        force "com.graphql-java:graphql-java:${libs.versions.managed.graphql.java}"
    }
}
